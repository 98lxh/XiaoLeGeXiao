{"version":3,"sources":["../../file:/C:/Users/89793/Desktop/PuzzleBlast/assets/typeScript/file:/C:/Users/89793/Desktop/PuzzleBlast/assets/typeScript/block.ts","../../file:/C:/Users/89793/Desktop/PuzzleBlast/assets/typeScript/file:/C:/Users/89793/Desktop/PuzzleBlast/assets/typeScript/game.ts","../../file:/C:/Users/89793/Desktop/PuzzleBlast/assets/typeScript/file:/C:/Users/89793/Desktop/PuzzleBlast/assets/typeScript/gameData.ts","../../file:/C:/Users/89793/Desktop/PuzzleBlast/assets/typeScript/file:/C:/Users/89793/Desktop/PuzzleBlast/assets/typeScript/loadView.ts"],"names":["_decorator","ccclass","property","type","Node","Sprite","SpriteFrame","args","_this","_initializerDefineProperty","isCanTouch","elementType","is_di","numDi","isEliminate","isMoving","v3BlockOld","_inheritsLoose","_proto","start","init","node","scale","Vec3","element","spriteFrame","this","elements","initDi","nodeShadow","active","shuaXinBlockSPF","tween","to","call","_this2","setTouch","can_touch","getBoundingBox","rect_1","getComponent","UITransform","Rect","x","y","width","num_pz","height","update","deltaTime","Component","configurable","enumerable","writable","initializer","Prefab","Label","AudioClip","numTouchStart","numTouchEnd","gameData","numLevel","xxStartDi","yyBlockChu","gameType","numBlockTypeGeShu","numBlockType","numBlocksKuaiGeShu","numBlocksKuai","arrNumDJ","audioSource","isEditing","numTypeEdit","numBlockEditMove","numTypeSuiJi","numSuiJi","bannerAd","wx","isWX","idBannerAD","interstitialAd","videoAd","numDJ","idChaPingAD","idJiLiShiPinAD","blockPool","startLayer","WECHAT","window","NodePool","parentEdit","AudioSource","createBlocksEdit","initBannerAD","initChaPing","initJiLiShiPin","showShareMenu","btn_study","getChildByName","scheduleOnce","show","then","console","log","input","on","Input","EventType","TOUCH_START","onTouchStart","TOUCH_MOVE","onTouchMove","TOUCH_END","onTouchEnd","startButton","startGame","alertButton","closeAlert","refreshLevelInfo","shareFirend","shareAppMessage","title","imageUrl","showJiLiShiPin","load","visibleTooltip","createRewardedVideoAd","adUnitId","onLoad","onError","err","onClose","res","isEnded","undefined","_this3","shuaXinDJ","createInterstitialAd","screenWidth","getSystemInfoSync","screenHeight","createBannerAd","style","left","top","onResize","_this4","realWidth","realHeight","layerOver","nodeTip","children","parentBlocks","i","length","ts_block","block","num_type_random","Math","floor","random","openAlert","onBlockKilled","crateBlocks","parentBlocksDi","removeAllChildren","determineSuperposition","btn3","j","nodeBlock_edit","instantiate","preBlockEdit","parent","setPosition","i_num","color","Color","alertLayer","alertContent","_this5","str","string","delay","arrLabelDJ","isStart","num_level","labelLevel","transiton","position","_this6","num_geShu","labelBlocksInfo","put","num_type","arrTypeLevel","arrPosLevel","nodeBlock","size","get","preBlock","xx","yy","num_block_geShu","arr_v3_block_edit","name","push","getPosition","i_v3_random","createBlockToBi","b_type","v3_block_start","num_di","getNumDi","shuaXinNumDi","v3_world","convertToWorldSpaceAR","v3_node_di","convertToNodeSpaceAR","_this7","pdXiaoChu","num_di_block","arr_blockType","ts_block_2","is_xiaoChu","removeSelf","playOneShot","arrAudio","children_2","num_xiaoChu_geShu","error","ts_block_end","num_xiaoChu","uuid","ts_block_1","rect_2","intersects","event","pdBlockDiMoving","v2_touchStart","getUILocation","v3_touchStart","v3_touchStart_edit","contains","Vec2","chidlren","block_type","is_moving","callBackBtn","shuChuPosBlocks","btn1","_this8","btn2","sys","openURL","i_end","num_di_cheHui","v3_old","v3_block","_this9","children_di_2","arr_block_di","children_di_1","v3_block_di","_this10","_loop","ts_1","ts_2","type_1","type_2","str_pos","copyToClipBoard","isNative","isBrowser","textarea","document","createElement","textContent","body","appendChild","readOnly","select","setSelectionRange","flag","execCommand","removeChild","deleteTime","ProgressBar","Slider","profiler","hideStats","startJindu","onDestroy","unscheduleAllCallbacks","progre","progress","sli","schedule","unschedule","jinduPause","loadScene","director"],"mappings":"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CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,EAAEC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,GAAGC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,GAAGC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,EAAE,GAAGC,EAAE,KAAK,CAACD,EAAE,GAAGC,EAAE,IAAI,CAACD,EAAE,GAAGC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,GAAG,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,GAAG,IAAI,CAACD,GAAG,IAAIC,GAAG,IAAI,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,EAAE,EAAEC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,GAAG,GAAGC,GAAG,IAAI,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,GAAG,IAAI,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,GAAG,GAAGC,GAAG,IAAI,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,GAAGC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,GAAG,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,GAAGC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,EAAEC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,EAAEC,EAAE,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,GAAGC,GAAG,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,EAAE,GAAGC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,GAAG,IAAI,CAACD,GAAG,GAAGC,EAAE,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,IAAI,CAACD,GAAG,IAAIC,EAAE,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,EAAEC,EAAE,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,GAAGC,EAAE,IAAI,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,GAAG,GAAGC,GAAG,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,EAAEC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,GAAGC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,GAAG,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,GAAG,IAAIC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,GAAG,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,EAAE,GAAGC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,EAAEC,EAAE,KAAK,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,GAAGC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,IAAI,CAACD,GAAG,GAAGC,GAAG,IAAI,CAACD,EAAE,EAAEC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,EAAE,GAAGC,EAAE,IAAI,CAACD,EAAE,EAAEC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,GAAGC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,GAAG,GAAGC,GAAG,IAAI,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,EAAE,GAAGC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,GAAGC,GAAG,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,GAAGC,EAAE,IAAI,CAACD,EAAE,GAAGC,EAAE,KAAK,CAACD,GAAG,GAAGC,GAAG,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,GAAG,IAAIC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,IAAI,CAACD,GAAG,GAAGC,GAAG,IAAI,CAACD,EAAE,GAAGC,EAAE,KAAK,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,EAAE,GAAGC,GAAG,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,EAAE,GAAGC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,GAAG,GAAGC,GAAG,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,GAAG,IAAI,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,GAAG,GAAGC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,IAAI,CAACD,GAAG,IAAIC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,GAAGC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,GAAG,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,GAAG,IAC/0G,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,GAAGC,EAAE,IAAI,CAACD,GAAG,IAAIC,EAAE,IAAI,CAACD,GAAG,IAAIC,GAAG,IAAI,CAACD,GAAG,IAAIC,GAAG,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,IAAI,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,EAAE,GAAGC,GAAG,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,GAAG,IAAI,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,GAAG,IAAI,CAACD,EAAE,GAAGC,EAAE,IAAI,CAACD,GAAG,GAAGC,EAAE,IAAI,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,GAAG,IAAIC,GAAG,IAAI,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,GAAG,GAAGC,EAAE,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,GAAG,IAAI,CAACD,EAAE,IAAIC,EAAE,KAAK,CAACD,GAAG,GAAGC,EAAE,IAAI,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,EAAE,GAAGC,EAAE,KAAK,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,EAAE,IAAIC,GAAG,IAAI,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,EAAE,GAAGC,GAAG,IAAI,CAACD,EAAE,GAAGC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,EAAE,KAAK,CAACD,GAAG,IAAIC,GAAG,IAAI,CAACD,EAAE,IAAIC,EAAE,IAAI,CAACD,GAAG,GAAGC,GAAG,IAAI,CAACD,GAAG,IAAIC,GAAG,OA7BlmB1B,EAuCI8B,OAAA,SAAO6O,QAvCmB3O;;seCFtBjD,EAAsBD,EAAtBC,QAASC,EAAaF,EAAbE,yBAEhBD,EAAQ,cAGLC,EAAS4R,KAET5R,EAAS6R,8FAJbxR,yBAAAC,yCAAAC,qBAAAA,oBAAAQ,gCAAAC,EAKGC,MAAA,WACI6Q,EAASC,iBACJC,cAPZhR,EASaiR,UAAV,gBACSC,0BAVZlR,EAeGgR,WAAA,2BACSG,OAAOC,SAAW,OAClBC,IAAID,SAAW,OAEfE,UAAS,WACVrQ,EAAKkQ,OAAOC,UAAY,GACxBnQ,EAAKoQ,IAAID,UAAY,GACjBnQ,EAAKkQ,OAAOC,UAAY,KACxBnQ,EAAKsQ,WAAWtQ,EAAKqQ,UACrBrQ,EAAKuQ,gBAEV,GAAK,EAAG,MA1BlBxR,EA4BGwR,WAAA,2BACSvM,cAAa,WACdoC,EAAKoK,cACN,KA/BVzR,EAiCGyR,UAAA,2BACSH,UAAS,cACNtJ,EAAKmJ,OAAOC,UAAY,UACxBpJ,EAAKmJ,OAAOC,SAAW,EACvBpJ,EAAKqJ,IAAID,SAAW,EACpBpJ,EAAKuJ,WAAWvJ,EAAKsJ,eACrBI,EAASD,UAAU,QAGvBzJ,EAAKmJ,OAAOC,UAAY,GACxBpJ,EAAKqJ,IAAID,UAAY,KACtB,GAAK,EAAG,QA5CYpP,4BAA9BC,gBAAAC,cAAAC,YAAAC,8BAEgD,mCAFhDH,gBAAAC,cAAAC,YAAAC,8BAImC","file":"all.js","sourcesContent":["import { _decorator, Component, Node, UITransform, Rect, SpriteFrame, Sprite, tween, Vec3 } from 'cc';\r\n\r\n@_decorator.ccclass('block')\r\nexport class block extends Component {\r\n\r\n    @_decorator.property({type: Node})\r\n    nodeShadow = null\r\n\r\n    @_decorator.property({type: Sprite})\r\n    element = null\r\n\r\n    @_decorator.property({type: [SpriteFrame]})\r\n    elements = []\r\n\r\n    isCanTouch: boolean;\r\n    elementType: any;\r\n\r\n\r\n    is_di: boolean;\r\n    numDi: number;\r\n    isEliminate: boolean;\r\n    isMoving: boolean;\r\n    v3BlockOld: Vec3;\r\n\r\n    start() {}\r\n\r\n    init(type){\r\n        this.node.scale = new Vec3(1,1,1)\r\n        this.elementType = type //0-29\r\n        this.isCanTouch = true\r\n        this.is_di = false\r\n        this.element.spriteFrame = this.elements[this.elementType]\r\n    }\r\n\r\n    initDi(type){\r\n        this.node.scale = new Vec3(1, 1, 1)\r\n        this.v3BlockOld = new Vec3(0, 0, 0)\r\n        this.isMoving = true\r\n        this.isEliminate = false\r\n        this.numDi = -1\r\n        this.elementType = type //0-29\r\n        this.isCanTouch = false\r\n        this.is_di = true\r\n        this.nodeShadow.active = false\r\n        this.element.spriteFrame = this.elements[this.elementType]\r\n        // this.element.spriteFrame = this.elements[this.elementType]\r\n    }\r\n\r\n    shuaXinBlockSPF(type){\r\n        this.elementType = type\r\n        tween(this.element.node)\r\n            .to(0.1,{scale:new Vec3(0,0,0)})\r\n            .call(()=>{\r\n                this.element.spriteFrame = this.elements[this.elementType]\r\n            })\r\n            .to(0.1,{scale:new Vec3(0.7,0.7,0.7)})\r\n            .start()\r\n    }\r\n\r\n    setTouch(can_touch){\r\n        this.isCanTouch = can_touch\r\n\r\n        if (this.isCanTouch) {\r\n            this.nodeShadow.active = false\r\n        }else{\r\n            this.nodeShadow.active = true\r\n        }\r\n    }\r\n\r\n    getBoundingBox(){\r\n        let num_pz = 5\r\n        let node_UITransform_1 = this.node.getComponent(UITransform)\r\n        let rect_1 = node_UITransform_1.getBoundingBox()\r\n        \r\n        let rect_3 = new Rect(\r\n            rect_1.x + num_pz,\r\n            rect_1.y + num_pz,\r\n            rect_1.width - num_pz * 2,\r\n            rect_1.height - num_pz * 2\r\n        )\r\n        \r\n        return rect_3\r\n    }\r\n\r\n    \r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Prefab, instantiate, input, Input, EventTouch, UITransform, Vec3 , Vec2, Color, Sprite, tween, Label, AudioSource, AudioClip, sys, NodePool} from 'cc';\r\nimport { gameData } from './gameData';\r\nimport { block } from './block';\r\nimport { WECHAT } from 'cc/env';\r\n\r\n@_decorator.ccclass('game')\r\nexport class game extends Component {\r\n    @_decorator.property({ type: Node })\r\n    transiton = null\r\n\r\n    @_decorator.property({ type: Node })\r\n    alertButton = null\r\n\r\n    @_decorator.property({ type: Node })\r\n    alertLayer = null\r\n\r\n    @_decorator.property({ type: Node })\r\n    alertContent = null\r\n\r\n    @_decorator.property({type: Prefab})\r\n    preBlock = null\r\n\r\n    @_decorator.property({type: Node})\r\n    parentBlocks = null\r\n\r\n    @_decorator.property({type: Node})\r\n    parentBlocksDi = null\r\n\r\n    @_decorator.property({type: Node})\r\n    nodeTip = null\r\n\r\n    @_decorator.property({type: Label})\r\n    labelLevel = null\r\n\r\n    @_decorator.property({type: Node})\r\n    layerOver = null\r\n\r\n    @_decorator.property({ type: Node })\r\n    startLayer = null\r\n\r\n    @_decorator.property({type: Node})\r\n    parentEdit = null\r\n\r\n    @_decorator.property({ type: Node })\r\n    startButton = null\r\n\r\n    @_decorator.property({type: Label})\r\n    labelBlocksInfo = null\r\n\r\n    @_decorator.property({type: Prefab})\r\n    preBlockEdit = null\r\n\r\n    @_decorator.property({type: [Label]})\r\n    arrLabelDJ = []\r\n\r\n    @_decorator.property({type: [AudioClip]})\r\n    arrAudio = []\r\n\r\n\r\n    numTouchStart: number;\r\n    numTouchEnd: number;\r\n    gameData: gameData;\r\n    numLevel: number;\r\n    xxStartDi: number;\r\n    yyBlockChu: number;\r\n    gameType: number;\r\n    numBlockTypeGeShu: number;\r\n    numBlockType: number;\r\n    numBlocksKuaiGeShu: number;\r\n    numBlocksKuai: number;\r\n    arrNumDJ: number[];\r\n    audioSource: AudioSource;\r\n    isEditing: boolean;\r\n    numTypeEdit: number;\r\n    numBlockEditMove: number;\r\n    numTypeSuiJi: number;\r\n    numSuiJi: number;\r\n    bannerAd: any;\r\n    wx: any;\r\n    isWX: boolean;\r\n    idBannerAD: any;\r\n    interstitialAd: any;\r\n    videoAd: any;\r\n    numDJ: number;\r\n    idChaPingAD: string;\r\n    idJiLiShiPinAD: string;\r\n    blockPool: NodePool;\r\n\r\n    start() {\r\n        // this.openAlert()\r\n        this.startLayer.active = true;\r\n        this.gameType = -1\r\n\r\n        this.isWX = WECHAT\r\n        this.wx = window['wx']\r\n        this.idBannerAD = 'xxxx'//banner广告位id\r\n        this.idChaPingAD = 'xxxx'//插屏广告位id\r\n        this.idJiLiShiPinAD = 'xxxx'//激励视频广告位id\r\n\r\n        this.blockPool = new NodePool();\r\n        this.numLevel = 0 //0：第一关\r\n        this.numBlockTypeGeShu = 10 //随机关卡，种类的最少个数\r\n        this.numBlockType = 2 //随机关卡，下一关比该关卡多几个种类\r\n        this.numBlocksKuaiGeShu = 99 //随机关卡，最少个块数 必须是3的倍数\r\n        this.numBlocksKuai = 6 //随机关卡，下一关比该关卡多几个块 必须是3的倍数\r\n        this.arrNumDJ = [3,3,3,3]//每个道具的个数\r\n        this.isEditing = this.parentEdit.active //是否是编辑模式\r\n        this.numTypeEdit = 1//(0:减，1：加)\r\n        this.numTypeSuiJi = 2 //随机模式下，用那种类型的坐标（0：随机的 1：规范的 2：有随机也有规范）\r\n        this.numSuiJi = 200 //编辑模式下，随机按钮产生的块的个数\r\n        this.numDJ = -1//(0:移出道具，1：撤回道具 2：洗牌道具 3：复活道具)\r\n\r\n        this.audioSource = this.node.getComponent(AudioSource)\r\n\r\n        this.yyBlockChu = 120//移出的y坐标\r\n        this.xxStartDi = 610 / 2 -280 -610 / 2 + 40\r\n        this.gameData = this.node.getComponent(gameData)\r\n\r\n        this.createBlocksEdit()\r\n        this.init()\r\n\r\n        if(this.isWX){\r\n            this.bannerAd = null\r\n            this.interstitialAd = null\r\n            this.videoAd = null\r\n\r\n            this.initBannerAD()\r\n            this.initChaPing()\r\n            this.initJiLiShiPin()\r\n\r\n            this.wx.showShareMenu()//打开分享菜单\r\n\r\n            let btn_study = this.node.getChildByName('btn_study')\r\n            if (btn_study) {\r\n                btn_study.active = false\r\n            }\r\n\r\n            this.scheduleOnce(function(){\r\n                this.bannerAd.show()\r\n                    .then(() => console.log('banner 广告显示'))\r\n            },5)\r\n        }\r\n        \r\n        input.on(Input.EventType.TOUCH_START, this.onTouchStart, this);\r\n        input.on(Input.EventType.TOUCH_MOVE, this.onTouchMove, this);\r\n        input.on(Input.EventType.TOUCH_END, this.onTouchEnd, this);\r\n\r\n        \r\n        this.startButton.on(Node.EventType.TOUCH_END, this.startGame, this)\r\n        this.alertButton.on(Node.EventType.TOUCH_END, this.closeAlert, this)\r\n    }\r\n\r\n\r\n    startGame(){\r\n        this.startLayer.active = false;\r\n        this.gameType = 0;\r\n        this.refreshLevelInfo(true)\r\n    }\r\n\r\n    //分享给好友\r\n    shareFirend(call: Function){\r\n        if (typeof (this.wx) == \"undefined\") return; \r\n        let title = '真是太好玩了,一起来玩吧'\r\n        let imageUrl = 'https://download.cocos.com/CocosStore/icon/7374c4a18a774ab7a05b72d5d8e5fed6/7374c4a18a774ab7a05b72d5d8e5fed6.png' \r\n        this.wx.shareAppMessage({ title, imageUrl }) \r\n        //分享成功\r\n        call && call(); \r\n    }\r\n\r\n    //播放激励视频广告\r\n    showJiLiShiPin(){\r\n        if (!this.videoAd) {\r\n            this.visibleTooltip('激励视频未加载成功')\r\n            return\r\n        }\r\n        // 用户触发广告后，显示激励视频广告\r\n        this.videoAd.show().catch(() => {\r\n            // 失败重试\r\n            this.videoAd.load()\r\n            .then(() => this.videoAd.show())\r\n            .catch(() => {\r\n                console.log('激励视频 广告显示失败')\r\n            })\r\n        })\r\n    }\r\n\r\n    //初始化激励视频广告\r\n    initJiLiShiPin(){\r\n        // 创建激励视频广告实例，提前初始化\r\n        this.videoAd = this.wx.createRewardedVideoAd({\r\n            adUnitId: this.idJiLiShiPinAD\r\n        })\r\n\r\n        this.videoAd.onLoad(() => {\r\n            console.log('激励视频 广告加载成功')\r\n        })\r\n\r\n        this.videoAd.onError(err => {\r\n            console.log(err)\r\n        })\r\n\r\n        this.videoAd.onClose(res => {\r\n            // 用户点击了【关闭广告】按钮\r\n            // 小于 2.1.0 的基础库版本，res 是一个 undefined\r\n            if (res && res.isEnded || res === undefined) {\r\n                // 正常播放结束，可以下发游戏奖励\r\n                if (this.numDJ == 0) {\r\n                    this.arrNumDJ[0]++\r\n                    this.shuaXinDJ()\r\n                }else if (this.numDJ == 1) {\r\n                    this.arrNumDJ[1]++\r\n                    this.shuaXinDJ()\r\n                }else if (this.numDJ == 2) {\r\n                    this.arrNumDJ[2]++\r\n                    this.shuaXinDJ()\r\n                }else if (this.numDJ == 3) {\r\n                    this.arrNumDJ[3]++\r\n                    this.shuaXinDJ()\r\n                }\r\n            }\r\n            else {\r\n                // 播放中途退出，不下发游戏奖励\r\n                this.visibleTooltip('未观看完整广告，不予奖励！')\r\n            }\r\n        })\r\n    }\r\n\r\n    //初始化插屏广告\r\n    initChaPing(){\r\n        // 创建插屏广告实例，提前初始化\r\n        if (this.wx.createInterstitialAd){\r\n            this.interstitialAd = this.wx.createInterstitialAd({\r\n            adUnitId: this.idChaPingAD\r\n            })\r\n        }\r\n    }\r\n\r\n    //初始化Banner广告\r\n    initBannerAD(){\r\n        let { screenWidth } = this.wx.getSystemInfoSync()\r\n        let { screenHeight } = this.wx.getSystemInfoSync()\r\n\r\n        this.bannerAd = this.wx.createBannerAd({\r\n            adUnitId: this.idBannerAD,\r\n            style: {\r\n              left: 0,\r\n              top: 0,\r\n              width: 300\r\n            }\r\n        })\r\n\r\n        this.bannerAd.onError(err => {\r\n            console.log(err)\r\n        })\r\n\r\n        this.bannerAd.onLoad(() => {\r\n            console.log('banner 广告加载成功')\r\n        })\r\n\r\n        this.bannerAd.onResize(res => {\r\n            this.bannerAd.style.left = (screenWidth - this.bannerAd.style.realWidth) / 2\r\n            this.bannerAd.style.top = screenHeight - this.bannerAd.style.realHeight\r\n          })\r\n    }\r\n\r\n    init(){        \r\n\r\n        this.gameType = 0 //（-1：游戏失败，0：正常游戏，1：游戏通关）\r\n        this.numTouchStart = -1\r\n        this.numTouchEnd = -1\r\n\r\n        this.layerOver.active = false\r\n        this.nodeTip.scale = new Vec3(0,0,0)\r\n\r\n        this.shuaXinDJ()\r\n\r\n        if (this.isEditing) {\r\n            let children = this.parentBlocks.children\r\n            for (let i = 0; i < children.length; i++) {\r\n                let ts_block = children[i].getComponent(block)\r\n                let num_type_random = Math.floor(Math.random()*30)\r\n                ts_block.init(num_type_random)\r\n            }\r\n        }else{\r\n            if(this.numLevel === 2){\r\n                this.gameType = -1\r\n                this.openAlert()\r\n                return\r\n            }\r\n\r\n            this.refreshLevelInfo()\r\n\r\n\r\n\r\n            let children = this.parentBlocks.children\r\n            for (let i = children.length-1; i >= 0; i--) {\r\n                this.onBlockKilled(children[i])\r\n            }\r\n            this.crateBlocks()\r\n        }\r\n\r\n        this.parentBlocksDi.removeAllChildren()\r\n        this.determineSuperposition()\r\n        this.btn3()\r\n\r\n        //console.log('poolSize:'+this.blockPool.size()); \r\n    }\r\n\r\n    createBlocksEdit(){\r\n        let i_num = 15 //行\r\n        let j_num = 13 //列\r\n        let num_zhongJian = i_num / 2\r\n\r\n        for (let i = 0; i < i_num; i++) {\r\n            for (let j = 0; j < j_num; j++) {\r\n                let nodeBlock_edit = instantiate(this.preBlockEdit)\r\n                nodeBlock_edit.parent = this.parentEdit\r\n                nodeBlock_edit.setPosition(i*40 - (i_num-1)*40 / 2,j*45 - 55,0)\r\n                if (i_num % 2 == 0) {\r\n                    if (i == num_zhongJian || i == num_zhongJian-1) {\r\n                        nodeBlock_edit.getComponent(Sprite).color = new Color(255,0,0,98)\r\n                    }\r\n                }else{\r\n                    if (i == Math.floor(num_zhongJian)) {\r\n                        nodeBlock_edit.getComponent(Sprite).color = new Color(255,0,0,98)\r\n                    }\r\n                }\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n    openAlert() {\r\n        this.alertLayer.active = true\r\n        tween(this.alertContent)\r\n            .to(0.1, { scale: new Vec3(1, 1, 1) })\r\n            .start()\r\n    }\r\n\r\n\r\n    closeAlert(){\r\n        tween(this.alertContent)\r\n            .to(0.1, { scale: new Vec3(0, 0, 0) })\r\n            .call(() => {\r\n                this.alertLayer.active = false\r\n                this.start()\r\n                // this.startLayer.active = true\r\n                // this.numLevel = 0\r\n            })\r\n            .start()\r\n    }\r\n\r\n\r\n\r\n    visibleTooltip(str){\r\n        this.nodeTip.getChildByName('Label').getComponent(Label).string = str\r\n        tween(this.nodeTip)\r\n            .to(0.1,{scale:new Vec3(1,1,1)})\r\n            .delay(2)\r\n            .to(0.1,{scale:new Vec3(0,0,0)})\r\n            .start()\r\n    }\r\n\r\n    shuaXinDJ(){\r\n        for (let i = 0; i < this.arrLabelDJ.length; i++) {\r\n            this.arrLabelDJ[i].string = this.arrNumDJ[i]\r\n        }\r\n    }\r\n\r\n    refreshLevelInfo(isStart = false){\r\n        let num_level = this.numLevel + 1\r\n        this.labelLevel.string = '第'+ num_level+ '关'\r\n\r\n        if(this.numLevel !== 0 || isStart){\r\n            tween(this.transiton)\r\n                .to(1.5, { position: new Vec3(-1000, 0, 0) })\r\n                .call(() => { this.transiton.position = new Vec3(1000, 0, 0) })\r\n                .start()\r\n        }\r\n        \r\n\r\n        if (this.isEditing) {\r\n            if (this.numTypeEdit == 1) {\r\n                this.labelLevel.string = '添加块模式'\r\n            }else{\r\n                this.labelLevel.string = '删除块模式'\r\n            }\r\n\r\n            let children = this.parentBlocks.children\r\n            let num_geShu = children.length\r\n\r\n            if (num_geShu % 3 == 0) {\r\n                this.labelBlocksInfo.string = '总共有'+num_geShu+'个块，是3的倍数'\r\n                this.labelBlocksInfo.color = new Color(0,0,0)\r\n            }else{\r\n                this.labelBlocksInfo.string = '总共有'+num_geShu+'个块，不是3的倍数'\r\n                this.labelBlocksInfo.color = new Color(255,0,0)\r\n            }\r\n            \r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    onBlockKilled(block) {\r\n        // enemy 应该是一个 cc.Node\r\n        this.blockPool.put(block); // 和初始化时的方法一样，将节点放进对象池，这个方法会同时调用节点的 removeFromParent\r\n    }\r\n\r\n    crateBlocks(){\r\n        let num_geShu = -1\r\n        let num_type = this.numBlockTypeGeShu + this.numLevel * this.numBlockType\r\n        if (this.gameData.arrTypeLevel[this.numLevel]) {\r\n            num_type = this.gameData.arrTypeLevel[this.numLevel]\r\n        }\r\n\r\n        if (num_type > 30) {\r\n            num_type = 30\r\n        }\r\n        \r\n        let num_type_random = Math.floor(Math.random() * num_type)//5\r\n\r\n\r\n        if (!this.gameData.arrPosLevel[this.numLevel]) {//随机生成\r\n            let num_block_geShu = this.numBlocksKuaiGeShu + this.numLevel * this.numBlocksKuai\r\n\r\n            let arr_v3_block_edit = []\r\n            let children = this.parentEdit.children\r\n            for (let i = 0; i < children.length; i++) {\r\n                if (children[i].name == 'blockEdit') {\r\n                    arr_v3_block_edit.push(children[i].getPosition())\r\n                }\r\n            }\r\n\r\n            for (let i = 0; i < num_block_geShu; i++) {\r\n                num_geShu++ //0,1,2,3\r\n\r\n                let nodeBlock = null;\r\n                if (this.blockPool.size() > 0) { // 通过 size 接口判断对象池中是否有空闲的对象\r\n                    nodeBlock = this.blockPool.get();\r\n                } else { // 如果没有空闲对象，也就是对象池中备用对象不够时，我们就用 cc.instantiate 重新创建\r\n                    nodeBlock = instantiate(this.preBlock);\r\n                }\r\n\r\n                let xx = -250  + Math.random() * 500\r\n                let yy = -60 + Math.random() * 510\r\n\r\n                if (this.numTypeSuiJi == 1) {\r\n                    let i_v3_random = Math.floor(Math.random() *arr_v3_block_edit.length)\r\n                    xx = arr_v3_block_edit[i_v3_random].x\r\n                    yy = arr_v3_block_edit[i_v3_random].y\r\n                }else if (this.numTypeSuiJi == 2 && Math.random() > 0.5) {\r\n                    let i_v3_random = Math.floor(Math.random() *arr_v3_block_edit.length)\r\n                    xx = arr_v3_block_edit[i_v3_random].x\r\n                    yy = arr_v3_block_edit[i_v3_random].y\r\n                }\r\n\r\n                nodeBlock.setPosition(xx,yy,0)\r\n                nodeBlock.parent = this.parentBlocks\r\n                let ts_block = nodeBlock.getComponent(block)\r\n                \r\n                if (num_geShu % 3 == 0) {\r\n                    num_type_random = Math.floor(Math.random()*num_type)//6,7\r\n                }\r\n                ts_block.init(num_type_random)//6,6,6,7,7,7\r\n            }\r\n\r\n            return\r\n        }\r\n\r\n        for (let i = 0; i < this.gameData.arrPosLevel[this.numLevel].length; i++) {\r\n            num_geShu++ //0,1,2,3\r\n            let nodeBlock = null;\r\n            if (this.blockPool.size() > 0) { // 通过 size 接口判断对象池中是否有空闲的对象\r\n                nodeBlock = this.blockPool.get();\r\n            } else { // 如果没有空闲对象，也就是对象池中备用对象不够时，我们就用 cc.instantiate 重新创建\r\n                nodeBlock = instantiate(this.preBlock);\r\n            }\r\n            let xx = this.gameData.arrPosLevel[this.numLevel][i].x\r\n            let yy = this.gameData.arrPosLevel[this.numLevel][i].y\r\n            nodeBlock.setPosition(xx,yy,0)\r\n            nodeBlock.parent = this.parentBlocks\r\n            let ts_block = nodeBlock.getComponent(block)\r\n            \r\n            if (num_geShu % 3 == 0) {\r\n                num_type_random = Math.floor(Math.random() * num_type)//6,7\r\n            }\r\n            ts_block.init(num_type_random)//6,6,6,7,7,7\r\n        }\r\n    }\r\n\r\n    //在底部生成元素块\r\n    createBlockToBi(b_type,v3_block_start){\r\n        let nodeBlock = null;\r\n        if (this.blockPool.size() > 0) { // 通过 size 接口判断对象池中是否有空闲的对象\r\n            nodeBlock = this.blockPool.get();\r\n        } else { // 如果没有空闲对象，也就是对象池中备用对象不够时，我们就用 cc.instantiate 重新创建\r\n            nodeBlock = instantiate(this.preBlock);\r\n        }\r\n        nodeBlock.parent = this.parentBlocksDi\r\n\r\n        let ts_block = nodeBlock.getComponent(block)\r\n        ts_block.initDi(b_type)\r\n\r\n        let num_di = this.getNumDi()\r\n        this.shuaXinNumDi(nodeBlock)\r\n        \r\n        let xx = this.xxStartDi + 80 * num_di\r\n\r\n        let v3_world = this.parentBlocks.getComponent(UITransform).convertToWorldSpaceAR(v3_block_start)\r\n        let v3_node_di = this.parentBlocksDi.getComponent(UITransform).convertToNodeSpaceAR(v3_world)\r\n\r\n        nodeBlock.setPosition(v3_node_di)\r\n        ts_block.v3BlockOld = v3_node_di\r\n\r\n        tween(nodeBlock)\r\n          .to(0.1,{position:new Vec3(xx,15,0)})\r\n          .call(()=>{ this.pdXiaoChu(nodeBlock) })\r\n          .start()\r\n    }\r\n\r\n    //判断是否可以消除\r\n    pdXiaoChu(nodeBlock){\r\n        let ts_block = nodeBlock.getComponent(block)\r\n        ts_block.isMoving = false\r\n        let num_di_block = ts_block.numDi\r\n        let children = this.parentBlocksDi.children\r\n        let arr_blockType = []\r\n        for (let i = 0; i < children.length; i++) {\r\n            let ts_block_2 = children[i].getComponent(block)\r\n            if (ts_block.elementType == ts_block_2.elementType && ts_block_2.isEliminate == false) {\r\n                arr_blockType.push(children[i])\r\n            }\r\n        }\r\n\r\n        let is_xiaoChu = false\r\n        if (arr_blockType.length == 3) {\r\n            for (let i = arr_blockType.length-1; i >= 0; i--) {\r\n                arr_blockType[i].getComponent(block).isEliminate = true\r\n                tween(arr_blockType[i])\r\n                    .delay(0.05)\r\n                    .to(0.08,{scale:new Vec3(0,0,0)})\r\n                    .removeSelf()\r\n                    .start()\r\n                is_xiaoChu = true\r\n            }\r\n        }\r\n\r\n        if (is_xiaoChu) {\r\n            this.audioSource.playOneShot(this.arrAudio[1],1)\r\n            let children_2 = this.parentBlocksDi.children\r\n            for (let i = 0; i < children_2.length; i++) {\r\n                let ts_block_2 = children_2[i].getComponent(block)\r\n                if (ts_block_2.numDi > num_di_block) {\r\n                    ts_block_2.numDi = ts_block_2.numDi - 3\r\n                    let xx = this.xxStartDi + 80 * ts_block_2.numDi\r\n                    //children_2[i].setPosition(xx,0,0)\r\n                    tween(children_2[i])\r\n                        .delay(0.05)\r\n                        .to(0.08,{position:new Vec3(xx,15,0)})\r\n                        .start()\r\n                }\r\n            }\r\n        }\r\n\r\n        let num_xiaoChu_geShu = 0\r\n        let children_2 = this.parentBlocksDi.children\r\n        for (let i = 0; i < children_2.length; i++) {\r\n            let ts_block = children_2[i].getComponent(block)\r\n            if (ts_block.isEliminate) {\r\n                num_xiaoChu_geShu++\r\n            }\r\n        }\r\n\r\n        if (children_2.length - num_xiaoChu_geShu >= 7) {\r\n            this.gameType = -1\r\n            this.audioSource.playOneShot(this.arrAudio[2],1)\r\n            //console.log('游戏失败');\r\n\r\n            if (this.interstitialAd) {\r\n                this.interstitialAd.show().catch((err) => {\r\n                  console.error(err)\r\n                })\r\n            }\r\n\r\n            this.scheduleOnce(function(){\r\n                this.layerOver.active = true\r\n            },0.5)\r\n        }\r\n        \r\n    }\r\n\r\n    //得到在底部的位置\r\n    getNumDi(){\r\n        let children = this.parentBlocksDi.children\r\n        let block_end = children[children.length-1]\r\n        let ts_block_end = block_end.getComponent(block)\r\n        let num_xiaoChu = 0\r\n\r\n        for (let i = 0; i < children.length; i++) {\r\n            let ts_block = children[i].getComponent(block)\r\n            if (ts_block.isEliminate) {\r\n                num_xiaoChu++\r\n            }\r\n        }\r\n\r\n        if (children.length - num_xiaoChu == 1) {\r\n            ts_block_end.numDi = 0\r\n        }\r\n        \r\n        for (let i = children.length-2; i >= 0; i--) {\r\n            let ts_block_2 = children[i].getComponent(block)\r\n            if (ts_block_end.elementType == ts_block_2.elementType && ts_block_2.isEliminate == false) {\r\n                ts_block_end.numDi = ts_block_2.numDi+1\r\n                return ts_block_end.numDi\r\n            }\r\n        }\r\n\r\n        ts_block_end.numDi = children.length- 1 -num_xiaoChu\r\n\r\n        return ts_block_end.numDi\r\n    }\r\n\r\n    //刷新在底部的位置\r\n    shuaXinNumDi(nodeBlock){\r\n        let num_di = nodeBlock.getComponent(block).numDi\r\n        let children = this.parentBlocksDi.children\r\n        for (let i = 0; i < children.length; i++) {\r\n            let ts_block = children[i].getComponent(block)\r\n            if (nodeBlock.uuid == children[i].uuid || ts_block.isEliminate) {\r\n                continue\r\n            }\r\n            if (ts_block.numDi >= num_di) {\r\n                ts_block.numDi++\r\n                let xx = this.xxStartDi + 80 * ts_block.numDi\r\n                tween(children[i])\r\n                    .to(0.09,{ position: new Vec3(xx, 15) })\r\n                    .start()\r\n            }\r\n        }\r\n    }\r\n\r\n    //判断叠加\r\n    determineSuperposition(){\r\n        let children = this.parentBlocks.children\r\n        for (let i = 0; i < children.length; i++) {\r\n            let ts_block_1 = children[i].getComponent(block)\r\n            let rect_1 = ts_block_1.getBoundingBox()\r\n            ts_block_1.setTouch(true)\r\n            for (let j = i+1; j < children.length; j++) {\r\n                let ts_block_2 = children[j].getComponent(block)\r\n                let rect_2 = ts_block_2.getBoundingBox()\r\n\r\n                if (rect_1.intersects(rect_2)) {\r\n                    ts_block_1.setTouch(false)\r\n                    break\r\n                }\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n    onTouchStart(event: EventTouch) {\r\n        if (this.gameType != 0) { return }\r\n\r\n        if (this.pdBlockDiMoving()) { return }\r\n        \r\n        this.numTouchStart = -1\r\n        let v2_touchStart = event.getUILocation()\r\n        let v3_touchStart = this.parentBlocks.getComponent(UITransform).convertToNodeSpaceAR(new Vec3(v2_touchStart.x,v2_touchStart.y,0))\r\n        let v3_touchStart_edit = this.parentEdit.getComponent(UITransform).convertToNodeSpaceAR(new Vec3(v2_touchStart.x,v2_touchStart.y,0))\r\n\r\n        if (this.isEditing ) {\r\n            if (this.numTypeEdit == 1) {\r\n                let children = this.parentEdit.children\r\n                for (let i = children.length-1; i >= 0; i--) {\r\n                    let node_UITransform = children[i].getComponent(UITransform)\r\n\r\n                    if (\r\n                        node_UITransform\r\n                        .getBoundingBox()\r\n                        .contains(new Vec2(v3_touchStart_edit.x,v3_touchStart_edit.y))\r\n                    ) {\r\n                       \r\n                        this.numBlockEditMove = i\r\n                        let nodeBlock = null;\r\n                        \r\n                        if (this.blockPool.size() > 0) { // 通过 size 接口判断对象池中是否有空闲的对象\r\n                            nodeBlock = this.blockPool.get();\r\n                        } else { // 如果没有空闲对象，也就是对象池中备用对象不够时，我们就用 cc.instantiate 重新创建\r\n                            nodeBlock = instantiate(this.preBlock);\r\n                        }\r\n\r\n                        nodeBlock.parent = this.parentBlocks\r\n                        nodeBlock.setPosition(children[i].getPosition())\r\n                        let ts_block = nodeBlock.getComponent(block)\r\n                        let num_type_random = Math.floor(Math.random()*30)\r\n                        ts_block.init(num_type_random)\r\n                        this.refreshLevelInfo()\r\n                        this.determineSuperposition()\r\n                        break\r\n                    }\r\n                }\r\n            }else if (this.numTypeEdit == 0) {\r\n                    let children = this.parentBlocks.children\r\n                    for (let i = children.length-1; i >= 0; i--) {\r\n                        let node_UITransform = children[i].getComponent(UITransform)\r\n                        if (node_UITransform.getBoundingBox().contains(new Vec2(v3_touchStart.x,v3_touchStart.y))) {\r\n                            this.onBlockKilled(children[i])\r\n                            this.refreshLevelInfo()\r\n                            this.determineSuperposition()\r\n                            break\r\n                        }\r\n                    }\r\n            }\r\n            \r\n            return\r\n        }\r\n\r\n        // console.log(v2_touchStart)\r\n        // console.log(v3_touchStart)\r\n        \r\n        let children = this.parentBlocks.children\r\n        for (let i = children.length-1; i >= 0; i--) {\r\n            let ts_block = children[i].getComponent(block)\r\n            if (ts_block.isCanTouch == false) {\r\n                continue\r\n            }\r\n\r\n            let node_UITransform = children[i].getComponent(UITransform)\r\n            if (node_UITransform.getBoundingBox().contains(new Vec2(v3_touchStart.x,v3_touchStart.y))) {\r\n                this.audioSource.playOneShot(this.arrAudio[0],1)\r\n                this.numTouchStart = i\r\n\r\n                tween(children[i])\r\n                    .to(0.1,{scale:new Vec3(1.2,1.2,1.2)})\r\n                    .start()\r\n                break\r\n           }\r\n        }\r\n        \r\n    }\r\n\r\n    onTouchMove(event: EventTouch) {\r\n        let v2_touchStart = event.getUILocation()\r\n        let v3_touchStart = this.parentBlocks.getComponent(UITransform).convertToNodeSpaceAR(new Vec3(v2_touchStart.x,v2_touchStart.y,0))\r\n        let v3_touchStart_edit = this.parentEdit.getComponent(UITransform).convertToNodeSpaceAR(new Vec3(v2_touchStart.x,v2_touchStart.y,0))\r\n\r\n        if (this.isEditing ) {\r\n            if (this.numTypeEdit == 1) {\r\n                let children = this.parentEdit.chidlren\r\n                for (let i = children.length - 1; i >= 0; i--) {\r\n                \r\n                    let node_UITransform = children[i].getComponent(UITransform)\r\n                    if (node_UITransform.getBoundingBox().contains(new Vec2(v3_touchStart_edit.x,v3_touchStart_edit.y))) {\r\n                        if (this.numBlockEditMove == i) {\r\n                            return\r\n                        }\r\n                        this.numBlockEditMove = i\r\n                        let nodeBlock = null;\r\n                        if (this.blockPool.size() > 0) { // 通过 size 接口判断对象池中是否有空闲的对象\r\n                            nodeBlock = this.blockPool.get();\r\n                        } else { // 如果没有空闲对象，也就是对象池中备用对象不够时，我们就用 cc.instantiate 重新创建\r\n                            nodeBlock = instantiate(this.preBlock);\r\n                        }\r\n                        nodeBlock.parent = this.parentBlocks\r\n                        nodeBlock.setPosition(children[i].getPosition())\r\n                        let ts_block = nodeBlock.getComponent(block)\r\n                        let num_type_random = Math.floor(Math.random()*30)\r\n                        ts_block.init(num_type_random)\r\n                        this.refreshLevelInfo()\r\n                        this.determineSuperposition()\r\n                        break\r\n                    }\r\n                }\r\n            }else if (this.numTypeEdit == 0) {\r\n                let children = this.parentBlocks.chidlren\r\n                for (let i = children.length-1; i >= 0; i--) {\r\n                    let ts_block = children[i].getComponent(block)\r\n                    let node_UITransform = children[i].getComponent(UITransform)\r\n                    if (node_UITransform.getBoundingBox().contains(new Vec2(v3_touchStart.x,v3_touchStart.y))) {\r\n                        //console.log('点中了：'+i);\r\n                        this.onBlockKilled(children[i])\r\n                        this.refreshLevelInfo()\r\n                        this.determineSuperposition()\r\n                        break\r\n                }\r\n                }\r\n            }\r\n            \r\n            return\r\n        }\r\n    }\r\n\r\n    onTouchEnd(event: EventTouch) {\r\n\r\n        if (this.isEditing) {\r\n            return\r\n        }\r\n\r\n        if (this.gameType != 0) {\r\n            return\r\n        }\r\n\r\n        if (this.pdBlockDiMoving()) {\r\n            return\r\n        }\r\n\r\n        let v2_touchStart = event.getUILocation()\r\n        let v3_touchStart = this.parentBlocks.getComponent(UITransform).convertToNodeSpaceAR(new Vec3(v2_touchStart.x,v2_touchStart.y,0))\r\n\r\n        let children = this.parentBlocks.children\r\n        for (let i = children.length-1; i >= 0; i--) {\r\n            let ts_block = children[i].getComponent(block)\r\n            if (ts_block.isCanTouch == false) {\r\n                continue\r\n            }\r\n\r\n            let node_UITransform = children[i].getComponent(UITransform)\r\n\r\n            if (\r\n                node_UITransform\r\n                .getBoundingBox()\r\n                .contains(new Vec2(v3_touchStart.x,v3_touchStart.y))\r\n            ) {\r\n\r\n                this.numTouchEnd = i\r\n                //console.log('确认点中了：'+i);\r\n                if (this.numTouchStart == this.numTouchEnd) {\r\n                    let ts_block_1 = children[i].getComponent(block)\r\n                    let block_type = ts_block_1.elementType\r\n                    this.createBlockToBi(block_type,children[i].getPosition())\r\n                    this.onBlockKilled(children[i])\r\n                    this.determineSuperposition()\r\n                    break\r\n                }\r\n           }\r\n        }\r\n\r\n        if (this.numTouchStart != -1) {\r\n            tween(children[this.numTouchStart])\r\n                .to(0.1,{scale:new Vec3(1,1,1)})\r\n                .start()\r\n        }\r\n\r\n        let children_1 = this.parentBlocks.children\r\n        if(children_1.length == 0){\r\n            this.gameType = 1\r\n            this.audioSource.playOneShot(this.arrAudio[3],1)\r\n            //console.log('游戏通关');\r\n            this.numLevel++\r\n\r\n            if (this.interstitialAd) {\r\n                this.interstitialAd.show().catch((err) => {\r\n                  console.error(err)\r\n                })\r\n            }\r\n\r\n            this.scheduleOnce(function(){\r\n                this.init()\r\n            },1)\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    pdBlockDiMoving(){\r\n        let is_moving = false\r\n        let children = this.parentBlocksDi.children\r\n        if (children.length > 0) {\r\n            let ts_block = children[children.length-1].getComponent(block)\r\n            is_moving = ts_block.isMoving\r\n        }\r\n        return is_moving\r\n    }\r\n\r\n    //按钮回调\r\n    callBackBtn(event:Event,str:string){\r\n        if (str == 'btn_3') {//洗牌按钮\r\n            if (this.arrNumDJ[2] <= 0) {\r\n                if (this.isWX) {\r\n                    this.numDJ = 2\r\n                    this.showJiLiShiPin()\r\n                }else{\r\n                    this.visibleTooltip('没有这个道具了')\r\n                }\r\n                return\r\n            }\r\n            this.arrNumDJ[2]--\r\n            this.shuaXinDJ()\r\n            this.btn3()\r\n        }else if (str == 'btn_shuChu') {\r\n            this.shuChuPosBlocks()\r\n        }else if (str == 'btn_1') {//出去3个块\r\n            if (this.arrNumDJ[0] <= 0) {\r\n                if (this.isWX) {\r\n                    this.numDJ = 0\r\n                    this.showJiLiShiPin()\r\n                }else{\r\n                    this.visibleTooltip('没有这个道具了')\r\n                }\r\n                return\r\n            }\r\n            this.arrNumDJ[0]--\r\n            this.btn1()\r\n            this.shuaXinDJ()\r\n        }else if (str == 'btn_2') {//撤回\r\n            if (this.arrNumDJ[1] <= 0) {\r\n                if (this.isWX) {\r\n                    let call =()=>{\r\n                        this.arrNumDJ[1]++\r\n                        this.shuaXinDJ()\r\n                        //console.log(\"分享成功\");\r\n                \t}\r\n               \t    this.shareFirend(call) \r\n                }else{\r\n                    this.visibleTooltip('没有这个道具了')\r\n                }\r\n                return\r\n            }\r\n            this.arrNumDJ[1]--\r\n            this.btn2()\r\n            this.shuaXinDJ()\r\n        }else if (str == 'btn_fh') {\r\n            if (this.arrNumDJ[3] <= 0) {\r\n                if (this.isWX) {\r\n                    this.numDJ = 3\r\n                    this.showJiLiShiPin()\r\n                }else{\r\n                    this.visibleTooltip('没有这个道具了')\r\n                }\r\n                return\r\n            }\r\n            this.arrNumDJ[3]--\r\n            this.shuaXinDJ()\r\n            this.gameType = 0\r\n            this.layerOver.active = false\r\n            this.btn1()\r\n        }else if (str == 'btn_cw') {\r\n            this.numLevel = 0\r\n            this.init()\r\n        }else if (str == 'btn_yin') {\r\n            let children = this.parentEdit.children\r\n            for (let i = 0; i < children.length; i++) {\r\n                if (children[i].name == 'blockEdit') {\r\n                    children[i].active = !children[i].active\r\n                }\r\n            }\r\n        }else if (str == 'btn_qingKong') {\r\n            this.parentBlocks.removeAllChildren()\r\n            this.refreshLevelInfo()\r\n        }else if (str == 'btn_jia') {\r\n            this.numTypeEdit = 1\r\n            this.refreshLevelInfo()\r\n        }else if (str == 'btn_jian') {\r\n            this.numTypeEdit = 0\r\n            this.refreshLevelInfo()\r\n        }else if (str == 'btn_suiJi') {\r\n\r\n            let arr_v3_block_edit = []\r\n            let children = this.parentEdit.children\r\n            for (let i = 0; i < children.length; i++) {\r\n                if (children[i].name == 'blockEdit') {\r\n                    arr_v3_block_edit.push(children[i].getPosition())\r\n                }\r\n            }\r\n\r\n            for (let i = 0; i < this.numSuiJi; i++) {\r\n                let nodeBlock = null;\r\n                if (this.blockPool.size() > 0) { // 通过 size 接口判断对象池中是否有空闲的对象\r\n                    nodeBlock = this.blockPool.get();\r\n                } else { // 如果没有空闲对象，也就是对象池中备用对象不够时，我们就用 cc.instantiate 重新创建\r\n                    nodeBlock = instantiate(this.preBlock);\r\n                }\r\n                nodeBlock.parent = this.parentBlocks\r\n                let i_v3_random = Math.floor(Math.random()*arr_v3_block_edit.length)\r\n                nodeBlock.setPosition(arr_v3_block_edit[i_v3_random])\r\n                let ts_block = nodeBlock.getComponent(block)\r\n                ts_block.init(Math.floor(Math.random()*30))\r\n            }\r\n\r\n            this.refreshLevelInfo()\r\n            this.determineSuperposition()\r\n        }else if (str == 'btn_study') {\r\n            sys.openURL(\"https://ke.qq.com/cgi-bin/agency?aid=118802&tuin=954863b4#tab=1&category=-1\")\r\n        }\r\n    }\r\n\r\n    //撤回\r\n    btn2(){\r\n        let children = this.parentBlocksDi.children\r\n        let i_end = -1\r\n        for (let i = children.length - 1; i >= 0; i--) {\r\n            let ts_block = children[i].getComponent(block)\r\n            if (ts_block.isEliminate) {\r\n                continue\r\n            }\r\n            i_end = i\r\n            break\r\n        }\r\n\r\n        let num_di_cheHui = -1\r\n\r\n        if (i_end != -1) {\r\n            let ts_block = children[i_end].getComponent(block)\r\n            num_di_cheHui = ts_block.numDi\r\n            ts_block.isEliminate = true\r\n\r\n            let v3_old = ts_block.v3BlockOld\r\n            let v3_world = this.parentBlocksDi.getComponent(UITransform).convertToWorldSpaceAR(v3_old)\r\n            let v3_block = this.parentBlocks.getComponent(UITransform).convertToNodeSpaceAR(v3_world)\r\n\r\n            tween(children[i_end])\r\n                .to(0.1,{position:v3_old})\r\n                .call(()=>{\r\n                    let nodeBlock = null;\r\n                    if (this.blockPool.size() > 0) { // 通过 size 接口判断对象池中是否有空闲的对象\r\n                        nodeBlock = this.blockPool.get();\r\n                    } else { // 如果没有空闲对象，也就是对象池中备用对象不够时，我们就用 cc.instantiate 重新创建\r\n                        nodeBlock = instantiate(this.preBlock);\r\n                    }\r\n                    nodeBlock.parent = this.parentBlocks\r\n                    nodeBlock.setPosition(v3_block)\r\n                    nodeBlock.getComponent(block).init(ts_block.elementType)\r\n                    this.determineSuperposition()\r\n                })\r\n                .removeSelf()\r\n                .start()\r\n        }\r\n\r\n        if (num_di_cheHui == -1) {\r\n            this.arrNumDJ[1]++\r\n            this.visibleTooltip('当前不可用该道具')\r\n        }\r\n\r\n        let children_di_2 = this.parentBlocksDi.children\r\n        for (let i = 0; i < children_di_2.length; i++) {\r\n        \r\n            let ts_block = children_di_2[i].getComponent(block)\r\n            if (ts_block.isEliminate) {\r\n                continue\r\n            }\r\n            if (ts_block.numDi > num_di_cheHui && num_di_cheHui != -1) {\r\n                ts_block.numDi = ts_block.numDi - 1\r\n                let xx = this.xxStartDi + 80 * ts_block.numDi\r\n                tween(children_di_2[i])\r\n                    .to(0.08,{position:new Vec3(xx,0,0)})\r\n                    .start()\r\n            }\r\n            \r\n        }\r\n       \r\n    }\r\n\r\n    //出去3个块\r\n    btn1(){\r\n        let arr_block_di = []\r\n        let children_di_1 = this.parentBlocksDi.children\r\n        for (let i = 0; i < children_di_1.length; i++) {\r\n            let ts_block = children_di_1[i].getComponent(block)\r\n            if (ts_block.numDi < 3 && ts_block.isEliminate == false) {\r\n                arr_block_di.push(children_di_1[i])\r\n            }\r\n        }\r\n\r\n        let num_geShu = arr_block_di.length\r\n\r\n        if (num_geShu == 0) {\r\n            this.arrNumDJ[0]++\r\n            this.visibleTooltip('当前不可用该道具')\r\n        }\r\n\r\n        for (let i = arr_block_di.length-1; i >= 0; i--) {\r\n            \r\n            let ts_block = arr_block_di[i].getComponent(block)\r\n\r\n            let v3_block_di = new Vec3(-80 + ts_block.numDi * 80,this.yyBlockChu,0)\r\n            let v3_world = this.parentBlocksDi.getComponent(UITransform).convertToWorldSpaceAR(v3_block_di)\r\n            let v3_block = this.parentBlocks.getComponent(UITransform).convertToNodeSpaceAR(v3_world)\r\n\r\n            ts_block.isEliminate = true\r\n            tween(arr_block_di[i])\r\n                .to(0.1,{position:v3_block_di})\r\n                .call(()=>{\r\n                    let nodeBlock = null;\r\n                    if (this.blockPool.size() > 0) { // 通过 size 接口判断对象池中是否有空闲的对象\r\n                        nodeBlock = this.blockPool.get();\r\n                    } else { // 如果没有空闲对象，也就是对象池中备用对象不够时，我们就用 cc.instantiate 重新创建\r\n                        nodeBlock = instantiate(this.preBlock);\r\n                    }\r\n                    nodeBlock.parent = this.parentBlocks\r\n                    nodeBlock.setPosition(v3_block)\r\n                    nodeBlock.getComponent(block).init(ts_block.elementType)\r\n                    this.determineSuperposition()\r\n                    //console.log('v3_block:'+v3_block);\r\n                })\r\n                .removeSelf()\r\n                .start()\r\n            \r\n            //arr_block_di[i].removeFromParent()\r\n        }\r\n\r\n        let children_di_2 = this.parentBlocksDi.children\r\n        for (let i = 0; i < children_di_2.length; i++) {\r\n        \r\n            let ts_block = children_di_2[i].getComponent(block)\r\n            if (ts_block.isEliminate) {\r\n                continue\r\n            }\r\n            ts_block.numDi = ts_block.numDi - num_geShu\r\n            let xx = this.xxStartDi + 80 * ts_block.numDi\r\n            tween(children_di_2[i])\r\n                .to(0.08,{position:new Vec3(xx,0,0)})\r\n                .start()\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    //洗牌功能\r\n    btn3(){\r\n        let children = this.parentBlocks.children\r\n        for (let i = 0; i < children.length; i++) {\r\n            let ts_1 = children[i].getComponent(block)\r\n            let i_random = Math.floor(Math.random()*children.length)\r\n            let ts_2 = children[i_random].getComponent(block)\r\n\r\n            let type_1 = ts_1.elementType\r\n            let type_2 = ts_2.elementType\r\n\r\n            ts_1.shuaXinBlockSPF(type_2)\r\n            ts_2.shuaXinBlockSPF(type_1)\r\n\r\n        }\r\n    }\r\n\r\n    //输出所有元素块的坐标\r\n    shuChuPosBlocks(){\r\n        let str_pos = ''\r\n        let children = this.parentBlocks.children\r\n        for (let i = 0; i < children.length; i++) {\r\n            let v3_block = children[i].getPosition()\r\n            str_pos = str_pos + '{x:' + v3_block.x + ',y:'+v3_block.y+'},'\r\n        }\r\n        if (children.length % 3 == 0) {\r\n            if (children.length > 0) {\r\n                //console.log(str_pos);\r\n                this.copyToClipBoard(str_pos)\r\n            }else{\r\n                console.log('块的个数为0，无效');\r\n                this.visibleTooltip('块的个数为0，无效')\r\n            }\r\n        }else{\r\n            console.log('块的个数不是3的倍数，无效');\r\n            this.visibleTooltip('块的个数不是3的倍数，无效')\r\n        }\r\n        \r\n    }\r\n\r\n    copyToClipBoard(str) :boolean {\r\n                if (sys.isNative) {\r\n                //原生自己实现\r\n                } else if (sys.isBrowser) {\r\n                    var textarea = document.createElement(\"textarea\");\r\n                    textarea.textContent = str;\r\n                    document.body.appendChild(textarea);\r\n                    textarea.readOnly = true;\r\n                    textarea.select();\r\n                    textarea.setSelectionRange(0, textarea.textContent.length);\r\n                    try {\r\n                        const flag = document.execCommand('copy');\r\n                        document.body.removeChild(textarea);\r\n                        if(flag){\r\n                            this.visibleTooltip('复制数据成功！')\r\n                            console.log('复制数据成功！')\r\n                            return true;\r\n                        }else{\r\n                            this.visibleTooltip('复制失败！')\r\n                            console.log('复制失败！')\r\n                            return false;\r\n                        }\r\n                    } catch (err) {\r\n                        this.visibleTooltip('复制失败！')\r\n                        console.log('复制失败！')\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n    update(deltaTime: number) {//每分钟执行60次\r\n        \r\n    }\r\n}\r\n\r\n","import { _decorator, Component } from 'cc';\r\n\r\n@_decorator.ccclass('gameData')\r\nexport class gameData extends Component {\r\n    arrPosLevel: any[];\r\n    arrTypeLevel: any[];\r\n\r\n    start() {\r\n        this.arrTypeLevel = [ 5, 16 ]\r\n        this.arrPosLevel = [\r\n            [\r\n              {x:-160,y:440},\r\n              {x:-160,y:395},\r\n              {x:0,y:440},\r\n              {x:0,y:395},\r\n              {x:160,y:440},\r\n              {x:160,y:395},\r\n              {x:-160,y:260},\r\n              {x:-160,y:215},\r\n              {x:0,y:260},\r\n              {x:0,y:215},\r\n              {x:160,y:260},\r\n              {x:160,y:215},\r\n              {x:-160,y:80},\r\n              {x:-160,y:35},\r\n              {x:0,y:80},\r\n              {x:0,y:35},\r\n              {x:160,y:80},\r\n              {x:160,y:35}\r\n            ],\r\n            [\r\n             {x:0,y:35},{x:-160,y:350},{x:240,y:350},{x:240,y:80},{x:40,y:395},{x:-160,y:305},{x:-280,y:80},{x:-160,y:485},{x:-120,y:125},{x:-120,y:215},{x:-200,y:305},{x:280,y:125},{x:-240,y:125},{x:160,y:395},{x:-240,y:125},{x:160,y:215},{x:120,y:215},{x:200,y:80},{x:280,y:125},{x:0,y:395},{x:-80,y:395},{x:120,y:485},{x:-160,y:125},{x:280,y:350},{x:40,y:350},{x:160,y:350},{x:160,y:305},{x:120,y:440},{x:80,y:350},{x:200,y:440},{x:-280,y:350},{x:-80,y:305},{x:40,y:395},{x:40,y:80},{x:80,y:485},{x:240,y:305},{x:-160,y:260},{x:-240,y:35},{x:-120,y:305},{x:-40,y:350},{x:200,y:170},{x:-120,y:-10},{x:160,y:395},{x:240,y:125},{x:120,y:-10},{x:200,y:35},{x:120,y:305},{x:-80,y:-10},{x:-120,y:-10},{x:160,y:-10},{x:0,y:395},{x:-120,y:305},{x:240,y:35},{x:120,y:35},{x:-40,y:-55},{x:-80,y:485},{x:-200,y:80},{x:200,y:395},{x:-280,y:350},{x:-160,y:-10},{x:-80,y:305},{x:120,y:-55},{x:-80,y:-10},{x:-80,y:485},{x:-200,y:125},{x:160,y:305},{x:-40,y:350},{x:-200,y:395},{x:200,y:350},{x:40,y:35},{x:160,y:170},{x:-120,y:485},{x:-120,y:-55},{x:-160,y:305},{x:160,y:350},{x:160,y:-55},{x:-120,y:350},{x:160,y:80},{x:-240,y:125},{x:-160,y:215},{x:80,y:395},{x:200,y:215},{x:-80,y:440},{x:-200,y:350},{x:-120,y:170},{x:-160,y:35},{x:200,y:170},{x:-160,y:350},{x:0,y:35},{x:240,y:170},{x:280,y:35},{x:-200,y:305},{x:-120,y:395},{x:160,y:260},{x:0,y:35},{x:-160,y:260},{x:280,y:305},{x:280,y:395},{x:80,y:-55},{x:-160,y:170},{x:160,y:-55},{x:-200,y:350},{x:160,y:350},{x:-120,y:125},{x:240,y:35},{x:80,y:125},{x:200,y:305},{x:-40,y:80},{x:280,y:125},{x:-280,y:305},{x:-160,y:-10},{x:-40,y:35},{x:-160,y:440},{x:-240,y:395},{x:-280,y:80},{x:-200,y:35},{x:-160,y:395},{x:160,y:305},{x:-120,y:80},{x:280,y:350},{x:-160,y:440},{x:0,y:80},{x:-280,y:305},{x:-120,y:170},{x:-80,y:395},{x:-80,y:125},{x:-40,y:350},{x:240,y:350},{x:80,y:35},{x:120,y:-55},{x:-120,y:170},{x:-240,y:350},{x:-40,y:125},{x:-40,y:-10},{x:-280,y:125},{x:0,y:350},{x:-120,y:35},{x:-280,y:125},{x:80,y:440},{x:-200,y:350},{x:-120,y:-10},{x:-200,y:350},{x:-40,y:35},{x:240,y:350},{x:120,y:170},{x:160,y:-55},{x:-200,y:80},{x:200,y:125},{x:-120,y:35},{x:-160,y:350},{x:160,y:260},{x:240,y:350},{x:160,y:350},{x:240,y:35},{x:120,y:485},{x:-160,y:350},{x:-120,y:-10},{x:-160,y:440},{x:200,y:35},{x:80,y:485},{x:-120,y:260},{x:280,y:350},{x:120,y:170},{x:200,y:305},{x:120,y:35},{x:-160,y:170},{x:0,y:395},{x:120,y:-10},{x:200,y:125},{x:160,y:440},{x:80,y:350},{x:240,y:80},{x:160,y:440},{x:-200,y:80},{x:-80,y:-10},{x:0,y:80},{x:200,y:80},{x:80,y:35},{x:0,y:80},{x:160,y:440},{x:200,y:350},{x:80,y:80},{x:240,y:80},{x:-40,y:-10},{x:-80,y:485},{x:80,y:440},{x:-200,y:80},{x:240,y:125},{x:160,y:350},{x:160,y:35},{x:-160,y:440},{x:-160,y:35},{x:160,y:350},{x:-120,y:260},{x:120,y:125},{x:200,y:170},{x:160,y:170},{x:160,y:350},{x:80,y:-10},{x:160,y:125},{x:120,y:305},{x:80,y:35},{x:80,y:485},{x:-80,y:-55},{x:240,y:170},{x:-40,y:125},{x:160,y:-10},{x:-280,y:80},{x:160,y:215},{x:-240,y:35},{x:-40,y:-55},{x:80,y:125},{x:120,y:-55},{x:80,y:-10},{x:160,y:215},{x:240,y:35},{x:200,y:170},{x:-80,y:395},{x:-80,y:35},{x:120,y:485},{x:280,y:170},{x:80,y:80},{x:240,y:80},{x:160,y:-10},{x:-240,y:350},{x:160,y:80},{x:-80,y:-10},{x:-120,y:395},{x:-120,y:-55},{x:-40,y:125},{x:200,y:80},{x:-80,y:395},{x:-40,y:80},{x:200,y:125},{x:-120,y:350},{x:-120,y:440},{x:-40,y:80},{x:-120,y:35},{x:160,y:440},{x:-160,y:350},{x:80,y:80},{x:280,y:305},{x:-80,y:-55},{x:120,y:485},{x:-120,y:-10},\r\n             {x:-280,y:305},{x:80,y:35},{x:-240,y:35},{x:-120,y:-10},{x:-120,y:-55},{x:-240,y:395},{x:120,y:-10},{x:-200,y:305},{x:-40,y:35},{x:160,y:-55},{x:80,y:-10},{x:-280,y:350},{x:-40,y:35},{x:-280,y:305},{x:-80,y:-55},{x:120,y:35},{x:-240,y:395},{x:-160,y:-10},{x:80,y:35},{x:-40,y:35},{x:160,y:-10},{x:-160,y:-55},{x:120,y:-55},{x:-40,y:35},{x:160,y:485},{x:-80,y:-55},{x:160,y:485},{x:-40,y:35},{x:160,y:-55},{x:120,y:-10},{x:160,y:35},{x:80,y:485},{x:120,y:-10},{x:160,y:-10},{x:-280,y:350},{x:80,y:-55},{x:80,y:485},{x:-280,y:125},{x:-280,y:305},{x:-160,y:-55},{x:160,y:35},{x:-80,y:-55},{x:-160,y:-10},\r\n            ]\r\n        ]\r\n\r\n        // this.arrPosLevel = [\r\n        //     [{ x: 0, y: 0 }, { x: 0, y: 0 }, { x: 0, y: 0 }],\r\n        //     [{ x: 0, y: 0 }, { x: 0, y: 0 }, { x: 0, y: 0 }],\r\n        // ]\r\n    }\r\n\r\n    update(deleteTime: number) {\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, director, Node, profiler, ProgressBar, Slider } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('loadView')\r\nexport class loadView extends Component {\r\n   // 进度条\r\n   @property(ProgressBar) progre: ProgressBar = null\r\n   //滑动器节点\r\n   @property(Slider) sli: Slider = null\r\n   start() {\r\n       profiler.hideStats();\r\n       this.startJindu()\r\n   }\r\n   protected onDestroy(): void {\r\n       this.unscheduleAllCallbacks()\r\n   }\r\n   /**\r\n  * 进度条进度\r\n  */\r\n   startJindu() {\r\n       this.progre.progress = 0;\r\n       this.sli.progress = 0;\r\n       // 将在 10 秒后开始计时，每 5 秒执行一次回调，重复 3 + 1 次\r\n       this.schedule(() => {\r\n           this.progre.progress += 0.1;\r\n           this.sli.progress += 0.1;\r\n           if (this.progre.progress >= 0.5) {\r\n               this.unschedule(this.schedule)\r\n               this.jinduPause()\r\n           }\r\n       }, 0.1, 4, 0.05);\r\n   }\r\n   jinduPause() {\r\n       this.scheduleOnce(() => {\r\n           this.loadScene()\r\n       }, 0.8)\r\n   }\r\n   loadScene() {\r\n       this.schedule(() => {\r\n           if (this.progre.progress >= 0.9) {\r\n               this.progre.progress = 1;\r\n               this.sli.progress = 1;\r\n               this.unschedule(this.schedule)\r\n               director.loadScene(\"game\")\r\n               return\r\n           }\r\n           this.progre.progress += 0.1;\r\n           this.sli.progress += 0.1;\r\n       }, 0.1, 5, 0.2);\r\n   }\r\n}"]}